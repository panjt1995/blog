---
import BaseHead from "../components/BaseHead.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import { SITE_TITLE, SITE_DESCRIPTION } from "../consts";
import adsData from "../data/amazon-ads.json";
---

<!doctype html>
<html lang="zh-cn">
    <head>
        <BaseHead
            title={`推荐商品 | ${SITE_TITLE}`}
            description={SITE_DESCRIPTION}
        />
        <style>
            main {
                width: 960px;
            }
            .recommendations-grid {
                display: grid;
                grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
                gap: 2rem;
                margin-top: 2rem;
            }
            .recommendation-card {
                background: rgba(var(--gray-light), 0.3);
                border: 1px solid rgba(var(--gray-light), 0.5);
                border-radius: 12px;
                overflow: hidden;
                transition:
                    transform 0.2s,
                    box-shadow 0.2s;
                display: flex;
                flex-direction: column;
                text-decoration: none;
                color: inherit;
            }
            .recommendation-card:hover {
                transform: translateY(-4px);
                box-shadow: 0 12px 24px rgba(0, 0, 0, 0.1);
                border-color: var(--accent);
            }
            .image-wrapper {
                width: 100%;
                height: 200px;
                background: white;
                display: flex;
                align-items: center;
                justify-content: center;
                padding: 1rem;
                border-bottom: 1px solid rgba(var(--gray-light), 0.5);
            }
            .image-wrapper img {
                max-width: 100%;
                max-height: 100%;
                object-fit: contain;
            }
            .content {
                padding: 1.5rem;
                display: flex;
                flex-direction: column;
                flex-grow: 1;
            }
            .content h3 {
                margin: 0 0 0.75rem 0;
                font-size: 1.25rem;
                color: var(--black);
            }
            .content p {
                color: #000 !important;
                font-size: 0.9rem;
                line-height: 1.5;
                margin: 0 0 1.5rem 0;
                flex-grow: 1;
            }
            .buy-now {
                display: inline-flex;
                align-items: center;
                justify-content: center;
                gap: 0.5rem;
                padding: 0.75rem;
                background: #ff9900;
                color: #000;
                border-radius: 8px;
                font-weight: 700;
                font-size: 0.9rem;
                transition: background 0.2s;
            }
            .recommendation-card:hover .buy-now {
                background: #ffac33;
            }
            @media (max-width: 720px) {
                .recommendations-grid {
                    grid-template-columns: 1fr;
                }
            }
        </style>
    </head>
    <body>
        <Header />
        <main>
            <h1>推荐商品</h1>
            <p>这些是我在 Amazon 上发现的一些好物，推荐给大家。</p>

            <div class="recommendations-grid">
                {
                    adsData.map((ad) => (
                        <a
                            href={ad.link}
                            target="_blank"
                            rel="noopener noreferrer"
                            class="recommendation-card"
                        >
                            <div class="image-wrapper">
                                <img
                                    src={ad.img}
                                    alt={ad.name}
                                    loading="lazy"
                                />
                            </div>
                            <div class="content">
                                <h3>{ad.name}</h3>
                                <p>{ad.description}</p>
                                <div class="buy-now">
                                    在亚马逊上查看
                                    <svg
                                        xmlns="http://www.w3.org/2000/svg"
                                        width="18"
                                        height="18"
                                        viewBox="0 0 24 24"
                                        fill="none"
                                        stroke="currentColor"
                                        stroke-width="2"
                                        stroke-linecap="round"
                                        stroke-linejoin="round"
                                    >
                                        <>
                                            <path d="M5 12h14" />
                                            <path d="m12 5 7 7-7 7" />
                                        </>
                                    </svg>
                                </div>
                            </div>
                        </a>
                    ))
                }
            </div>
        </main>
        <Footer />
    </body>
</html>
